;二十个字节向前与向后移动10位
DATA    SEGMENT
STR1 DB 20 DUP('0')
N EQU 10      
DATA    ENDS

CODE    SEGMENT 
START:
      MOV AX, DATA
      MOV DS, AX
      MOV CX,20
      MOV DL,0
      LEA BX,STR1
AGAIN:
    
    
    MOV [BX],DL
    INC BX
    INC DL      
    LOOP AGAIN        
      CALL PROBAC
      JMP ENDTHIS
;向后移动
PROFOR PROC
MOV SI,SEG STR1
MOV DS,SI
MOV ES,SI
MOV SI,OFFSET STR1
ADD SI,0AH
 
MOV DI,SI
ADD DI,0AH
PUSH SI
PUSH DI
CLD
MOV CX,N
REP MOVSB
POP DI
POP SI
SUB SI,0AH
SUB DI,0AH
MOV CX,N
REP MOVSB
ENDP

;向前移动
PROBAC PROC
MOV SI,SEG STR1
MOV DS,SI
SUB SI,01H
MOV ES,SI
MOV SI,OFFSET STR1
 
MOV DI,SI
SUB DI,0AH
PUSH SI
PUSH DI
CLD
MOV CX,N
REP MOVSB
MOV SI,SEG STR1
MOV DS,SI
MOV ES,SI 
POP DI
POP SI
ADD SI,0AH
ADD DI,0AH

MOV CX,N
REP MOVSB
ENDP
 ENDTHIS:    
CODE    ENDS
END    START    ; set entry point.
